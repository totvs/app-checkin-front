<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="defaultHref" text="Voltar"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end" (click)="logOut()">
        <ion-icon slot="start" name="log-out"></ion-icon>
    </ion-buttons>
    <ion-title><img class="thf-menu-logo" src='assets/img/totvs-logo-menu.svg'></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>
        <ion-row>
          <ion-col size="6" class="ion-text-right">
            <div class="padding-middle-col ion-text-left">
              <ion-label>
                {{ subscriptionLabel }}
              </ion-label>
            </div>
          </ion-col>
          <ion-col class="ion-text-right">
            <ion-toggle color="success" [(ngModel)]="isFavorite" (click)="toggleSubscribe()"></ion-toggle>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="8">
            <div class="padding-middle-col">
              {{ event?.DATETIMESTART | date: 'dd/MM/yyyy H:mm' }}
            </div>
          </ion-col>
          <ion-col size="3">
            <div class="padding-middle-col">
                <ion-badge> Duração: {{ event?.DURATION | slice:0:5}}</ion-badge>
            </div>
          </ion-col>
        </ion-row>
      </ion-card-subtitle>
      <ion-card-title>
        <p>{{ event?.EVENT_NAME }}</p>
      </ion-card-title>
      <ion-card-subtitle>
          <p>Local: {{ event?.ROOM }}</p>
        </ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      {{ event?.DESCRIPTION }}
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>
        Avalie o evento
      </ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <rating [(rating)]="rating"></rating>
      <div padding-top >
        <ion-textarea placeholder="Deixe seu comentário" rows="4" [(ngModel)]="ratingDescription">
        </ion-textarea>
      </div>
      <ion-button expand="block" (click)="eventsSurvey();" [disabled]="!rating">Avaliar</ion-button>
    </ion-card-content>
  </ion-card>

</ion-content>
